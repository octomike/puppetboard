{% extends 'layout.html' %}
{% block content %}
<div class="ui fluid icon input hide" style="margin-bottom:20px">
  <input autofocus="autofocus" class="filter-table" placeholder="Type here to filter...">
</div>
<table class='ui compact very basic sortable table'>
  <thead>
    <tr>
      {% for head in headers %}
      <th{% if loop.index == 1 %} class="default-sort"{% endif %}>{{head}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody class="searchable">
    {% for node, facts in fact_data.iteritems() %}
    <tr>
      {% for name in fact_names %}
        {% set item = facts.get(name, 'undef') %}
        {% if item.startswith('http://') or item.startswith('https://') %}
          <td><a href="{{item}}"><i class='large darkblue archive icon'></i</a></td>
        {% elif item=='undef' %}
          <td><i class="large ban icon"></i></td>
        {% else %}
          <td><a href="{{url_for('node', env=current_env, node_name=node)}}">{{item}}</a></td>
        {% endif %}
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock content %}
